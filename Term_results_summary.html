<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สรุปผลเทอม - PBNTC</title>
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="CSS//style.css">
    <style>
    /* CSS เฉพาะที่ต้องใช้ (ถ้ามี) แต่ส่วนใหญ่ถูกย้ายไป style.css แล้ว */
    /* ตารางผลกิจกรรม ควรให้เป็น text-align: center */
    .data-table.summary-table th, .data-table.summary-table td {
        text-align: center;
    }
    
  </style>
  <script
            src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  </head>
  <body>

    <div class="header">
      <div class="logo-area">
        <i class="fas fa-bars" id="sidebarToggle"></i>

        <img src="pbntc-logo.webp" alt="PBNTC Logo" class="logo">
        PBNTC
      </div>
    </div>

    <div class="main-container">

      <div class="sidebar" id="sidebar">
                <nav>
                    <a href="index.html" ><i
                            class="fas fa-home"></i> <span>หน้าหลัก</span></a>
                    <a href="Create_activity.html"><i class="fas fa-edit"></i>
                        <span>สร้างกิจกรรม</span></a>
                    <a href="Activity_list.html"><i
                            class="fas fa-list-alt" ></i> <span>รายการกิจกรรม</span></a>
                    <a href="Overview_activity.html"><i
                            class="fas fa-clipboard-check"></i>
                        <span>ภาพรวมกิจกรรม</span></a>
                    <a href="Professor_Assistant.html"><i
                            class="fas fa-building"></i>
                        <span>ผู้ช่วยอาจารย์</span></a>
                    <a href="Term_results_summary.html" class="active"><i
                            class="fas fa-poll"></i> <span>สรุปผลเทอม</span></a>
                    <a href="#" class="logout"><i
                            class="fas fa-sign-out-alt"></i>
                        <span>ลงชื่อเข้าใช้ออก</span></a>
                </nav>
            </div>

      <div class="content">
        <h2 class="page-title">สรุปผลเทอม</h2>

        <div class="filter-controls">
            <div class="search-box">
              <input type="text" placeholder="ชื่อนักเรียน">
              <i class="fa fa-search"></i>
            </div>
            <div class="filter-group">
                          <label for="department">สาขา</label>
                          <select id="department">
                              <option>เลือกสาขา</option>
                          </select>
            </div>
          <div class="filter-group">
                          <label for="level">ระดับ</label>
                          <select id="level">
                              <option>เลือกระดับ</option>
                              <option>ปวช</option>
                              <option>ปวส</option>
                          </select>
          </div>
        </div>

        <table class="data-table summary-table">
          <thead>
            <tr>
              <th>รหัสนักเรียน</th>
              <th>ชื่อนักเรียน</th>
              <th>สาขา</th>
              <th>ครูที่ปรึกษา</th>
              <th>เข้าร่วมกิจกรรม</th>
              <th>เข้าร่วมฝึกงาน</th>
              <th>EX กิจกรรม (%)</th>
              <th>EX ฝึกงาน (%)</th>
              <th>ผลกิจกรรม</th>
              <th>ผลฝึกงาน</th>
            </tr>
          </thead>
          <tbody id = "score-body">
          </tbody>
        </table>
      </div>
    </div>
    <script>
       const toggleBtn = document.getElementById('sidebarToggle');
    const sidebar = document.getElementById('sidebar');

    // ฟังก์ชันตรวจสอบขนาดจอและตั้งค่าเมนู
    function initSidebar() {
        const isMobile = window.innerWidth <= 1024; // เช็คว่าเป็นมือถือ/ไอแพดหรือไม่
        const savedState = localStorage.getItem('sidebarState');

        if (isMobile) {
            // บนมือถือ: เริ่มต้นต้อง "หุบ" (collapsed) เสมอ เพื่อไม่ให้บังเนื้อหา
            sidebar.classList.add('collapsed');
        } else {
            // บนคอม: เอาตามที่เคยจำไว้ (ถ้าจำว่าหุบ ก็หุบ)
            if (savedState === 'collapsed') {
                sidebar.classList.add('collapsed');
            } else {
                sidebar.classList.remove('collapsed');
            }
        }
    }

    // เรียกใช้ตอนเปิดเว็บ
    initSidebar();

    // เมื่อกดปุ่ม
    toggleBtn.addEventListener('click', () => {
        sidebar.classList.toggle('collapsed');
        
        // บันทึกสถานะ (เฉพาะตอนใช้คอม มือถือไม่ต้องจำ เพราะควรปิดเสมอตอนเริ่ม)
        if (window.innerWidth > 1024) {
            if (sidebar.classList.contains('collapsed')) {
                localStorage.setItem('sidebarState', 'collapsed');
            } else {
                localStorage.setItem('sidebarState', 'expanded');
            }
        }
    });

    </script>
<script src="JavaSCript/Term_result_summary.js"></script>
  </body>
</html>